{"ast":null,"code":"import{Button,Card,CardBody,CardHeader,Col,Row,Table}from\"reactstrap\";import React,{useEffect,useState}from\"react\";import{Link}from\"react-router-dom\";import{fetchPatientData,setPredictionData}from\"../handler/sessionStorageHandler\";import API_URL from\"../handler/api\";import DashboardInfoCard from\"../components/InformationCards/DashboardInfoCard\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Teaser(){const[patient,setPatient]=useState({});const[currentPrediction,setCurrentPrediction]=useState({});useEffect(()=>{if(fetchPatientData()===null){setPatient(null);return;}const patientData=fetchPatientData();setPatient(patientData);// Setting the prediction globally using local storage so that every screen has acces to it\nconst setPrediction=async()=>{const response=await fetch(API_URL+\"predict\",{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({'age':patientData.age,'weight':patientData.weight,'gender':patientData.gender,'temperature':patientData.temperature,'heart_rate':patientData.heart_rate,'resp_rate':patientData.resp_rate,'spo2':patientData.spo2,'sbp':patientData.sbp,'dbp':patientData.dbp,'mbp':patientData.mbp,'wbc':patientData.wbc,'hemoglobin':patientData.hemoglobin,'platelet':patientData.platelet,'bun':patientData.bun,'cr':patientData.cr,'glu':patientData.glu,'Na':patientData.Na,'Cl':patientData.Cl,'K':patientData.K,'Mg':patientData.Mg,'Ca':patientData.Ca,'P':patientData.P,'inr':patientData.inr,'pt':patientData.pt,'ptt':patientData.ptt,'bicarbonate':patientData.bicarbonate,'aniongap':patientData.aniongap,'gcs':patientData.gcs,'vent':patientData.vent,'crrt':patientData.crrt,'vaso':patientData.vaso,'seda':patientData.seda,'sofa_score':patientData.sofa_score,'ami':patientData.ami,'ckd':patientData.ckd,'copd':patientData.copd,'hyperte':patientData.hyperte,'dm':patientData.dm,'aki':patientData.aki,'stroke':patientData.stroke,'AISAN':patientData.AISAN,'BLACK':patientData.BLACK,'HISPANIC':patientData.HISPANIC,'OTHER':patientData.OTHER,'WHITE':patientData.WHITE,'unknown':patientData.unknown,'CCU':patientData.CCU,'CVICU':patientData.CVICU,'MICU':patientData.MICU,'MICU/SICU':patientData['MICU/SICU'],'NICU':patientData.NICU,'SICU':patientData.SICU,'TSICU':patientData.TSICU})});const predictionString=await response.json();const prediction=JSON.parse(predictionString);setPredictionData(prediction);setCurrentPrediction(prediction);};setPrediction();},[]);if(patient===null){return/*#__PURE__*/_jsxs(\"div\",{className:\"content flex-column center\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-dark font-weight-bold text-2rem\",children:\"Laad eerst een pati\\xEBnt in\"}),/*#__PURE__*/_jsx(Link,{to:'/admin/patients',children:/*#__PURE__*/_jsx(Button,{color:\"primary\",children:\"Patient Inladen\"})})]});}const cardInfo={\"Patient ID\":patient.ID,\"Prediction\":currentPrediction.prediction,\"Probability\":currentPrediction.confidence};return/*#__PURE__*/_jsxs(\"div\",{className:\"content\",children:[/*#__PURE__*/_jsx(DashboardInfoCard,{cardInformation:cardInfo}),/*#__PURE__*/_jsxs(Card,{className:\"h-100\",children:[/*#__PURE__*/_jsx(CardHeader,{children:/*#__PURE__*/_jsx(\"div\",{className:\"numbers text-center float-left\",children:/*#__PURE__*/_jsx(\"p\",{className:\"card-category font-weight-bold\",children:\"Globale Informatie\"})})}),/*#__PURE__*/_jsx(CardBody,{children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(CardHeader,{children:/*#__PURE__*/_jsx(\"div\",{className:\"numbers text-center float-left\",children:/*#__PURE__*/_jsx(\"p\",{className:\"card-title font-weight-bold\",children:\"Algemene informatie over het predictiemodel\"})})}),/*#__PURE__*/_jsx(CardBody,{children:/*#__PURE__*/_jsx(Link,{to:'/admin/overview',children:/*#__PURE__*/_jsxs(Button,{color:\"primary\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"Global Screen\"}),/*#__PURE__*/_jsx(\"div\",{className:\"nc-icon nc-chart-bar-32\"})]})})})]})})]}),/*#__PURE__*/_jsxs(Card,{className:\"h-100\",children:[/*#__PURE__*/_jsx(CardHeader,{children:/*#__PURE__*/_jsx(\"div\",{className:\"numbers text-center float-left\",children:/*#__PURE__*/_jsx(\"p\",{className:\"card-category font-weight-bold\",children:\"Lokale Informatie\"})})}),/*#__PURE__*/_jsx(CardBody,{children:/*#__PURE__*/_jsxs(Table,{children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(CardHeader,{children:/*#__PURE__*/_jsx(\"div\",{className:\"numbers text-center float-left\",children:/*#__PURE__*/_jsx(\"p\",{className:\"card-title font-weight-bold\",children:\"Zie de inputfeatures van de patient in\"})})}),/*#__PURE__*/_jsx(CardBody,{children:/*#__PURE__*/_jsx(Link,{to:'/admin/dashboard',children:/*#__PURE__*/_jsxs(Button,{color:\"primary\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"Input Features\"}),/*#__PURE__*/_jsx(\"div\",{className:\"nc-icon nc-zoom-split\"})]})})})]})}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(CardHeader,{children:/*#__PURE__*/_jsx(\"div\",{className:\"numbers text-center float-left\",children:/*#__PURE__*/_jsx(\"p\",{className:\"card-title font-weight-bold\",children:\"Verander de features van de patient\"})})}),/*#__PURE__*/_jsx(CardBody,{children:/*#__PURE__*/_jsx(Link,{to:'/admin/changevalues',children:/*#__PURE__*/_jsxs(Button,{color:\"primary\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"Change Values\"}),/*#__PURE__*/_jsx(\"div\",{className:\"nc-icon nc-settings\"})]})})})]})})]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(CardHeader,{children:/*#__PURE__*/_jsx(\"div\",{className:\"numbers text-center float-left\",children:/*#__PURE__*/_jsx(\"p\",{className:\"card-title font-weight-bold\",children:\"Bekijk de counterfactuals van de patient\"})})}),/*#__PURE__*/_jsx(CardBody,{children:/*#__PURE__*/_jsx(Link,{to:'/admin/counterfactual',children:/*#__PURE__*/_jsxs(Button,{color:\"primary\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"Counterfactuals\"}),/*#__PURE__*/_jsx(\"div\",{className:\"nc-icon nc-refresh-69\"})]})})})]})}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(CardHeader,{children:/*#__PURE__*/_jsx(\"div\",{className:\"numbers text-center float-left\",children:/*#__PURE__*/_jsx(\"p\",{className:\"card-title font-weight-bold\",children:\"Bekijk vergelijkbare patienten\"})})}),/*#__PURE__*/_jsx(CardBody,{children:/*#__PURE__*/_jsx(Link,{to:'/admin/similar_patients',children:/*#__PURE__*/_jsxs(Button,{color:\"primary\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"Similar Patients\"}),/*#__PURE__*/_jsx(\"div\",{className:\"nc-icon nc-single-02\"}),/*#__PURE__*/_jsx(\"div\",{className:\"nc-icon nc-single-02\"})]})})})]})})]})]})})]}),/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(CardBody,{children:/*#__PURE__*/_jsx(Link,{to:\"/admin/patients\",children:/*#__PURE__*/_jsx(Button,{children:\"Laad een andere patient in\"})})})})]});}export default Teaser;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}